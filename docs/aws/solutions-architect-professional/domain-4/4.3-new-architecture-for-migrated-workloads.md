# 4.3 New Architecture for Migrated Workloads

## Storage Selection (Cheatsheet)

| Service | Protocol | OS Support | Use Case |
| :--- | :--- | :--- | :--- |
| **EBS** | Block (iSCSI-like) | Single EC2 (usually) | Boot volumes, Databases, High IOPS. |
| **EFS** | NFSv4 | Linux | Shared filesystem, Web content, CMS. Multi-AZ. |
| **FSx for Windows** | SMB | Windows | Shared Windows file shares, AD integration. |
| **FSx for Lustre** | Lustre | Linux | HDD/SSD | HPC, Machine Learning, S3-linked. |
| **S3** | REST API | Any | Object storage, Static web, Data Lake. |

> [!WARNING]
> **Exam Gotcha**: **EFS** is for Linux. **FSx for Windows** is for Windows. If the scenario asks for "POSIX compliant shared file system for Linux web servers", choose EFS.

## Compute Selection

### EC2 vs. Containers vs. Serverless
*   **EC2**: Max control. Legacy apps. OS tuning required.
*   **ECS/EKS (Fargate)**: Containerized apps. Less overhead than EC2.
*   **Lambda**: Event-driven. Short running (max 15 mins). No server patches.

### Migration Specifics
*   **VMware Cloud on AWS**: Good for quick evacuation of data centers without changing IP addresses (L2 extension).
